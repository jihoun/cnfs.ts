<ng-container *ngIf="actions.length <= maxVisibleActions">
  <button
    *ngFor="let action of actions"
    mat-icon-button
    [attr.aria-label]="action.label"
    (click)="onClick($event, action.action)"
    [matTooltip]="action.label"
  >
    <mat-icon>{{ action.icon }}</mat-icon>
  </button>
</ng-container>
<ng-container *ngIf="actions.length > maxVisibleActions">
  <button
    mat-icon-button
    [matMenuTriggerFor]="menu"
    aria-label="Actions"
    matTooltip="Actions"
    (click)="onClick($event, 'menu')"
  >
    <mat-icon>more_vert</mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <button
      mat-menu-item
      *ngFor="let action of actions"
      [attr.aria-label]="action.label"
      (click)="onClick($event, action.action)"
    >
      <mat-icon>{{ action.icon }}</mat-icon>
      <span>{{ action.label }}</span>
    </button>
  </mat-menu>
</ng-container>
