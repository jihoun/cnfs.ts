(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"y8/c":function(t,e,r){"use strict";r.r(e),r.d(e,"IamModule",(function(){return Mt}));var a=r("2kYt"),i=r("nIj0"),n=r("PBFl"),s=r("29Wa"),o=r("bFHC"),c=r("cZZj"),l=r("EM62"),u=r("5XID"),d=r("6Oco"),b=r("ZTXN");r("KTx3"),r("prE9"),r("kuMc");const m=Object(c.f)({passive:!0});let h=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return d.a;const e=Object(u.e)(t),r=this._monitoredElements.get(e);if(r)return r.subject;const a=new b.a,i="cdk-text-field-autofilled",n=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run((()=>a.next({target:t.target,isAutofilled:!1})))):(e.classList.add(i),this._ngZone.run((()=>a.next({target:t.target,isAutofilled:!0}))))};return this._ngZone.runOutsideAngular((()=>{e.addEventListener("animationstart",n,m),e.classList.add("cdk-text-field-autofill-monitored")})),this._monitoredElements.set(e,{subject:a,unlisten:()=>{e.removeEventListener("animationstart",n,m)}}),a}stopMonitoring(t){const e=Object(u.e)(t),r=this._monitoredElements.get(e);r&&(r.unlisten(),r.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach(((t,e)=>this.stopMonitoring(e)))}}return t.\u0275fac=function(e){return new(e||t)(l.Vb(c.a),l.Vb(l.A))},t.\u0275prov=Object(l.Hb)({factory:function(){return new t(Object(l.Vb)(c.a),Object(l.Vb)(l.A))},token:t,providedIn:"root"}),t})(),f=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},imports:[[c.b]]}),t})();var p=r("mFH5");const g=new l.r("MAT_INPUT_VALUE_ACCESSOR"),v=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let y=0;class C{constructor(t,e,r,a){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=r,this.ngControl=a}}const _=Object(p.w)(C);let w=(()=>{class t extends _{constructor(t,e,r,a,i,n,s,o,l,u){super(n,a,i,r),this._elementRef=t,this._platform=e,this.ngControl=r,this._autofillMonitor=o,this._formField=u,this._uid="mat-input-"+y++,this.focused=!1,this.stateChanges=new b.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter((t=>Object(c.e)().has(t)));const d=this._elementRef.nativeElement,m=d.nodeName.toLowerCase();this._inputValueAccessor=s||d,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular((()=>{t.nativeElement.addEventListener("keyup",(t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))}))})),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===m,this._isTextarea="textarea"===m,this._isNativeSelect&&(this.controlType=d.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Object(u.c)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=Object(u.c)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Object(c.e)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Object(u.c)(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe((t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()}))}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const r=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=r,r?t.setAttribute("placeholder",r):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){v.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(l.l),l.Lb(c.a),l.Lb(i.f,10),l.Lb(i.i,8),l.Lb(i.d,8),l.Lb(p.c),l.Lb(g,10),l.Lb(h),l.Lb(l.A),l.Lb(s.a,8))},t.\u0275dir=l.Gb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&l.Yb("focus",(function(){return e._focusChanged(!0)}))("blur",(function(){return e._focusChanged(!1)}))("input",(function(){return e._onInput()})),2&t&&(l.Ub("disabled",e.disabled)("required",e.required),l.Bb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),l.Db("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[l.zb([{provide:s.c,useExisting:t}]),l.xb,l.yb]}),t})(),O=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},providers:[p.c],imports:[[f,s.d],f,s.d]}),t})();var R=r("iAde"),S=r("cePI"),k=r("FlRo"),x=r("KZIX"),A=r("sEIs"),M=r("CuRm"),L=r("20lr"),N=r("ROBh"),j=r("BwBJ");const Q=[{type:"user",id:"1",attributes:{firstName:"Nicolas",created:"2015-05-22T14:56:29.000Z",updated:"2015-05-22T14:56:28.000Z"}},{type:"user",id:"2",attributes:{firstName:"Yohan",created:"2015-04-21T14:56:29.000Z",updated:"2015-04-21T14:56:28.000Z"}},{type:"user",id:"3",attributes:{firstName:"Yannick",created:"2015-05-22T14:56:29.000Z",updated:"2015-05-22T14:56:28.000Z"}},{type:"user",id:"4",attributes:{firstName:"David",created:"2015-04-21T14:56:29.000Z",updated:"2015-04-21T14:56:28.000Z"}},{type:"user",id:"5",attributes:{firstName:"Clement",created:"2015-05-22T14:56:29.000Z",updated:"2015-05-22T14:56:28.000Z"}},{type:"user",id:"6",attributes:{firstName:"Marie",created:"2015-04-21T14:56:29.000Z",updated:"2015-04-21T14:56:28.000Z"}},{type:"user",id:"7",attributes:{firstName:"Jean Pierre",created:"2015-05-22T14:56:29.000Z",updated:"2015-05-22T14:56:28.000Z"}},{type:"user",id:"8",attributes:{firstName:"Helene",created:"2015-04-21T14:56:29.000Z",updated:"2015-04-21T14:56:28.000Z"}},{type:"user",id:"9",attributes:{firstName:"Remi",created:"2015-05-22T14:56:29.000Z",updated:"2015-05-22T14:56:28.000Z"}},{type:"user",id:"10",attributes:{firstName:"Marine",created:"2015-04-21T14:56:29.000Z",updated:"2015-04-21T14:56:28.000Z"}},{type:"user",id:"11",attributes:{firstName:"Elise",created:"2015-05-22T14:56:29.000Z",updated:"2015-05-22T14:56:28.000Z"}},{type:"user",id:"12",attributes:{firstName:"Aurelie",created:"2015-04-21T14:56:29.000Z",updated:"2015-04-21T14:56:28.000Z"}}],D={data:Q,errors:[],included:[],meta:{record_count:Q.length}};class I{getList(t){let e=Array.isArray(D.data)?D.data:[];void 0!==t["filter[firstName]"]&&(e=e.filter((e=>void 0!==e.attributes&&e.attributes.firstName.toLowerCase().includes((""+t["filter[firstName]"]).toLowerCase())))),"firstName"===t.sort&&(e=e.sort(((t,e)=>t.attributes&&e.attributes?t.attributes.firstName.localeCompare(e.attributes.firstName):0))),"-firstName"===t.sort&&(e=e.sort(((t,e)=>t.attributes&&e.attributes?-t.attributes.firstName.localeCompare(e.attributes.firstName):0))),"createdAt"===t.sort&&(e=e.sort(((t,e)=>t.attributes&&e.attributes?t.attributes.created.localeCompare(e.attributes.created):0))),"-createdAt"===t.sort&&(e=e.sort(((t,e)=>t.attributes&&e.attributes?-t.attributes.created.localeCompare(e.attributes.created):0)));const r=parseInt(""+t["page[number]"]||"1"),a=parseInt(""+t["page[size]"]||"5");return e=e.slice((r-1)*a,r*a),Object(N.a)(Object.assign(Object.assign({},D),{data:e})).pipe(Object(j.a)(200))}getOne(t){const e=D.data.filter((e=>e.id===t)).pop()||null;return Object(N.a)(Object.assign(Object.assign({},D),{data:e}))}}var T=r("xVbo"),P=r("YtkY"),E=r("TLy2"),Z=r("8j5Y"),F=r("47ST");class V{}let H=(()=>{class t{constructor(t){this.service=t}getTableData(t){return this.service.getList(t).pipe(Object(P.a)((t=>({data:(Array.isArray(t.data)?t.data:[]).map((t=>this.fromDto(t))),meta:t.meta}))))}getOne(t){return this.service.getOne(t).pipe(Object(P.a)((t=>null===t.data?null:this.fromDto(t.data))))}create(t){return Object(F.a)("not implemented yet")}update(t,e){return Object(F.a)("not implemented")}delete(t){return Object(F.a)("not implemented")}fromDto(t){if(void 0===t.attributes)throw new Error("missing attributes on user resource");return{id:t.id,firstName:t.attributes.firstName,createdAt:new Date(t.attributes.created)}}}return t.\u0275fac=function(e){return new(e||t)(l.Vb(V))},t.\u0275prov=l.Hb({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t{constructor(t,e,r,a,n,s){this.fb=t,this.router=e,this.location=r,this.activatedRoute=a,this.service=n,this.notificationService=s,this.form=this.fb.group({firstName:["",[i.k.required,i.k.minLength(1)]]}),this.user=null,this.activatedRoute.paramMap.pipe(Object(T.a)((t=>t.has("userId"))),Object(P.a)((t=>t.get("userId"))),Object(E.a)((t=>this.service.getOne(t))),Object(Z.a)((t=>{t&&this.form.setValue({firstName:t.firstName})}))).subscribe((t=>this.user=t))}onSave(){this.form.valid&&(this.user?this.service.update(this.user.id,{firstName:this.form.value.firstName}):this.service.create({firstName:this.form.value.firstName})).subscribe((()=>{this.notificationService.addSnack("Item saved"),this.onCancel()}),(t=>this.notificationService.addSnack(`Failed to save user '${t}'`)),(()=>console.log("finally")))}onCancel(){try{this.location.back()}catch(t){this.router.navigate(["..","..","users"])}}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(i.b),l.Lb(A.b),l.Lb(a.h),l.Lb(A.a),l.Lb(H),l.Lb(L.c))},t.\u0275cmp=l.Fb({type:t,selectors:[["cnfs-edit-user"]],decls:8,vars:3,consts:[[3,"formGroup","ngSubmit"],["matInput","","type","text","formControlName","firstName","placeholder","First Name","autocomplete","given-name",3,"minLength"],[1,"buttons"],["type","submit","mat-flat-button","","color","accent",3,"disabled"],["mat-button","","type","button",3,"click"]],template:function(t,e){1&t&&(l.Rb(0,"form",0),l.Yb("ngSubmit",(function(){return e.onSave()})),l.Rb(1,"mat-form-field"),l.Mb(2,"input",1),l.Qb(),l.Rb(3,"div",2),l.Rb(4,"button",3),l.xc(5," Save "),l.Qb(),l.Rb(6,"button",4),l.Yb("click",(function(){return e.onCancel()})),l.xc(7,"Cancel"),l.Qb(),l.Qb(),l.Qb()),2&t&&(l.hc("formGroup",e.form),l.Ab(2),l.hc("minLength",1),l.Ab(2),l.hc("disabled",!e.form.valid))},directives:[i.l,i.h,i.d,s.b,w,i.a,i.g,i.c,n.b],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}"]}),t})();class B{getTableData(t){return Object(N.a)({data:[{id:"1",name:"Admin"},{id:"2",name:"Finance"}],meta:{record_count:2}}).pipe(Object(j.a)(100))}getOne(t){return Object(F.a)("Method not implemented.")}create(t){return Object(F.a)("Method not implemented.")}update(t,e){return Object(F.a)("Method not implemented.")}}let $=(()=>{class t{constructor(t,e,r){this.fb=t,this.adapter=e,this.notificationService=r,this.done=new l.o,this.form=this.fb.group({name:[null,[i.k.required,i.k.minLength(1)]]})}ngOnChanges(t){t.group&&this.group&&this.form.setValue({name:this.group.name})}onSave(){(this.group?this.adapter.update(this.group.id,{name:this.form.value.name}):this.adapter.create({name:this.form.value.name})).subscribe((()=>{this.notificationService.addSnack("Group properly saved"),this.done.next(!0)}),(t=>{this.notificationService.addSnack(`Could not save group '${t}'`)}))}onCancel(){this.done.next(!1)}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(i.b),l.Lb(B),l.Lb(L.c))},t.\u0275cmp=l.Fb({type:t,selectors:[["cnfs-edit-group"]],inputs:{group:"group"},outputs:{done:"done"},features:[l.yb],decls:8,vars:2,consts:[[3,"formGroup","ngSubmit"],["matInput","","formControlName","name","type","text","placeholder","Group Name"],[1,"buttons"],["type","submit","mat-flat-button","","color","accent",3,"disabled"],["mat-button","","type","button",3,"click"]],template:function(t,e){1&t&&(l.Rb(0,"form",0),l.Yb("ngSubmit",(function(){return e.onSave()})),l.Rb(1,"mat-form-field"),l.Mb(2,"input",1),l.Qb(),l.Rb(3,"div",2),l.Rb(4,"button",3),l.xc(5," Save "),l.Qb(),l.Rb(6,"button",4),l.Yb("click",(function(){return e.onCancel()})),l.xc(7,"Cancel"),l.Qb(),l.Qb(),l.Qb()),2&t&&(l.hc("formGroup",e.form),l.Ab(4),l.hc("disabled",!e.form.valid))},directives:[i.l,i.h,i.d,s.b,w,i.a,i.g,i.c,n.b],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-direction:row}form[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1}"]}),t})(),q=(()=>{class t{constructor(t,e,r,a){this.activatedRoute=t,this.location=e,this.router=r,this.activatedRoute.paramMap.pipe(Object(T.a)((t=>t.has("groupId"))),Object(P.a)((t=>t.get("groupId"))),Object(E.a)((t=>a.getOne(t)))).subscribe((t=>this.group=t))}next(){try{this.location.back()}catch(t){this.router.navigate(["..","..","groups"])}}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(A.a),l.Lb(a.h),l.Lb(A.b),l.Lb(B))},t.\u0275cmp=l.Fb({type:t,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"group","done"]],template:function(t,e){1&t&&(l.Rb(0,"cnfs-edit-group",0),l.Yb("done",(function(){return e.next()})),l.Qb()),2&t&&l.hc("group",e.group)},directives:[$],styles:[""]}),t})();var G=r("QMrA"),U=r("phcl");function J(t,e){1&t&&(l.Rb(0,"th",8),l.xc(1," Name "),l.Qb())}function z(t,e){if(1&t&&(l.Rb(0,"td",9),l.xc(1),l.Qb()),2&t){const t=e.$implicit;l.Ab(1),l.yc(t.name)}}function X(t,e){1&t&&l.Mb(0,"th",8)}const K=function(t){return["..","edit-group",t]};function W(t,e){if(1&t&&(l.Rb(0,"td",9),l.Rb(1,"a",10),l.Rb(2,"mat-icon"),l.xc(3,"edit"),l.Qb(),l.Qb(),l.Qb()),2&t){const t=e.$implicit;l.Ab(1),l.hc("routerLink",l.jc(1,K,t.id))}}function tt(t,e){1&t&&l.Mb(0,"tr",11)}function et(t,e){1&t&&l.Mb(0,"tr",12)}let rt=(()=>{class t{constructor(t){this.groupsAdapter=t,this.displayedColumns=["name","actions"],this.dataSource=new M.a(t)}ngOnChanges(t){t.filter&&this.filter&&(this.dataSource.filter$=this.filter.valueChanges)}ngAfterViewInit(){this.dataSource.sort=this.sort}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(B))},t.\u0275cmp=l.Fb({type:t,selectors:[["cnfs-group-list"]],viewQuery:function(t,e){var r;1&t&&l.Ac(S.a,!0),2&t&&l.lc(r=l.Zb())&&(e.sort=r.first)},inputs:{displayedColumns:"displayedColumns",filter:"filter"},features:[l.yb],decls:11,vars:5,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"dataSource"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","Edit",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Rb(0,"table",0),l.Pb(1,1),l.wc(2,J,2,0,"th",2),l.wc(3,z,2,1,"td",3),l.Ob(),l.Pb(4,4),l.wc(5,X,1,0,"th",2),l.wc(6,W,4,3,"td",3),l.Ob(),l.wc(7,tt,1,0,"tr",5),l.wc(8,et,1,0,"tr",6),l.Qb(),l.Mb(9,"cnfs-loader",7),l.Mb(10,"cnfs-paginator",7)),2&t&&(l.hc("dataSource",e.dataSource),l.Ab(7),l.hc("matHeaderRowDef",e.displayedColumns),l.Ab(1),l.hc("matRowDefColumns",e.displayedColumns),l.Ab(1),l.hc("dataSource",e.dataSource),l.Ab(1),l.hc("dataSource",e.dataSource))},directives:[k.j,S.a,k.c,k.e,k.b,k.g,k.i,G.a,U.a,k.d,k.a,n.a,A.d,o.a,k.f,k.h],styles:["th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}table[_ngcontent-%COMP%]{width:100%}"]}),t})();const at=function(){return["..","create-group"]};let it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Fb({type:t,selectors:[["cnfs-groups"]],decls:5,vars:2,consts:[[1,"scroll-body"],["mat-fab","","color","accent","aria-label","Create new group",1,"add-fab",3,"routerLink"]],template:function(t,e){1&t&&(l.Rb(0,"div",0),l.Mb(1,"cnfs-group-list"),l.Qb(),l.Rb(2,"a",1),l.Rb(3,"mat-icon"),l.xc(4,"add"),l.Qb(),l.Qb()),2&t&&(l.Ab(2),l.hc("routerLink",l.ic(1,at)))},directives:[rt,n.a,A.d,o.a],styles:[".scroll-body[_ngcontent-%COMP%]{height:100%}.add-fab[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem}"]}),t})();function nt(t,e){if(1&t){const t=l.Sb();l.Rb(0,"a",3,4),l.Yb("click",(function(){l.oc(t);const r=e.$implicit;return l.cc().activeLink=r})),l.xc(2),l.Qb()}if(2&t){const t=e.$implicit,r=l.mc(1);l.hc("routerLink",t.route)("active",r.isActive),l.Ab(2),l.zc(" ",t.label," ")}}let st=(()=>{class t{constructor(){this.links=[{route:"users",label:"Users"},{route:"groups",label:"Groups"},{route:"roles",label:"Roles"}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Fb({type:t,selectors:[["cnfs-iam"]],decls:4,vars:1,consts:[["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","active","click",4,"ngFor","ngForOf"],[1,"content"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active","click"],["rla","routerLinkActive"]],template:function(t,e){1&t&&(l.Rb(0,"nav",0),l.wc(1,nt,3,3,"a",1),l.Qb(),l.Rb(2,"div",2),l.Mb(3,"router-outlet"),l.Qb()),2&t&&(l.Ab(1),l.hc("ngForOf",e.links))},directives:[x.b,a.k,A.f,A.d,x.a,A.c],styles:["[_nghost-%COMP%]{width:100%;height:100%}.content[_ngcontent-%COMP%]{padding-top:1.2rem}"]}),t})();class ot{getTableData(t){return Object(N.a)({data:[{id:"1",name:"Microsite"},{id:"2",name:"POS"}],meta:{record_count:2}}).pipe(Object(j.a)(100))}}function ct(t,e){1&t&&(l.Rb(0,"th",7),l.xc(1," Name "),l.Qb())}function lt(t,e){if(1&t&&(l.Rb(0,"td",8),l.xc(1),l.Qb()),2&t){const t=e.$implicit;l.Ab(1),l.yc(t.name)}}function ut(t,e){1&t&&l.Mb(0,"tr",9)}function dt(t,e){1&t&&l.Mb(0,"tr",10)}let bt=(()=>{class t{constructor(t){this.adapter=t,this.displayedColumns=["name"],this.dataSource=new M.a(t)}ngOnChanges(t){t.filter&&this.filter&&(this.dataSource.filter$=this.filter.valueChanges)}ngAfterViewInit(){this.dataSource.sort=this.sort}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(ot))},t.\u0275cmp=l.Fb({type:t,selectors:[["cnfs-role-list"]],viewQuery:function(t,e){var r;1&t&&l.Ac(S.a,!0),2&t&&l.lc(r=l.Zb())&&(e.sort=r.first)},inputs:{displayedColumns:"displayedColumns",filter:"filter"},features:[l.yb],decls:8,vars:5,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"dataSource"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(l.Rb(0,"table",0),l.Pb(1,1),l.wc(2,ct,2,0,"th",2),l.wc(3,lt,2,1,"td",3),l.Ob(),l.wc(4,ut,1,0,"tr",4),l.wc(5,dt,1,0,"tr",5),l.Qb(),l.Mb(6,"cnfs-loader",6),l.Mb(7,"cnfs-paginator",6)),2&t&&(l.hc("dataSource",e.dataSource),l.Ab(4),l.hc("matHeaderRowDef",e.displayedColumns),l.Ab(1),l.hc("matRowDefColumns",e.displayedColumns),l.Ab(1),l.hc("dataSource",e.dataSource),l.Ab(1),l.hc("dataSource",e.dataSource))},directives:[k.j,S.a,k.c,k.e,k.b,k.g,k.i,G.a,U.a,k.d,k.a,k.f,k.h],styles:["th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),mt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Fb({type:t,selectors:[["cnfs-roles"]],decls:1,vars:0,template:function(t,e){1&t&&l.Mb(0,"cnfs-role-list")},directives:[bt],styles:[""]}),t})();const ht=function(){return[""]};function ft(t,e){if(1&t&&(l.Rb(0,"div",1),l.Rb(1,"h2",2),l.xc(2),l.Qb(),l.Rb(3,"p",3),l.xc(4),l.Qb(),l.Rb(5,"p",3),l.xc(6),l.dc(7,"date"),l.Qb(),l.Rb(8,"div",4),l.Rb(9,"a",5),l.Rb(10,"mat-icon"),l.xc(11,"edit"),l.Qb(),l.xc(12,"Edit"),l.Qb(),l.Qb(),l.Qb()),2&t){const t=l.cc();l.Ab(2),l.yc(t.user.firstName),l.Ab(2),l.zc("Id: ",t.user.id,""),l.Ab(2),l.zc("Created On: ",l.ec(7,4,t.user.createdAt),""),l.Ab(3),l.hc("routerLink",l.ic(6,ht))}}let pt=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.activatedRoute.paramMap.pipe(Object(T.a)((t=>t.has("userId"))),Object(P.a)((t=>t.get("userId"))),Object(E.a)((t=>e.getOne(t)))).subscribe((t=>this.user=t))}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(A.a),l.Lb(H))},t.\u0275cmp=l.Fb({type:t,selectors:[["cnfs-user"]],decls:1,vars:1,consts:[["class","user",4,"ngIf"],[1,"user"],[1,"mat-title"],[1,"mat-caption"],[1,"buttons"],["mat-flat-button","","color","accent",3,"routerLink"]],template:function(t,e){1&t&&l.wc(0,ft,13,7,"div",0),2&t&&l.hc("ngIf",e.user)},directives:[a.l,n.a,A.d,o.a],pipes:[a.e],styles:[""]}),t})();function gt(t,e){1&t&&(l.Rb(0,"th",11),l.xc(1," First Name "),l.Qb())}function vt(t,e){if(1&t&&(l.Rb(0,"td",12),l.xc(1),l.Qb()),2&t){const t=e.$implicit;l.Ab(1),l.yc(t.firstName)}}function yt(t,e){1&t&&(l.Rb(0,"th",13),l.xc(1," Created "),l.Qb())}function Ct(t,e){if(1&t&&(l.Rb(0,"td",12),l.xc(1),l.dc(2,"date"),l.Qb()),2&t){const t=e.$implicit;l.Ab(1),l.yc(l.ec(2,1,t.createdAt))}}function _t(t,e){1&t&&l.Mb(0,"th",14)}const wt=function(t){return["..","edit-user",t]};function Ot(t,e){if(1&t){const t=l.Sb();l.Rb(0,"td",12),l.Rb(1,"a",15),l.Rb(2,"mat-icon"),l.xc(3,"edit"),l.Qb(),l.Qb(),l.Rb(4,"button",16),l.Yb("click",(function(){l.oc(t);const r=e.$implicit;return l.cc().onDelete(r)})),l.Rb(5,"mat-icon"),l.xc(6,"delete"),l.Qb(),l.Qb(),l.Qb()}if(2&t){const t=e.$implicit;l.Ab(1),l.hc("routerLink",l.jc(1,wt,t.id))}}function Rt(t,e){1&t&&l.Mb(0,"tr",17)}function St(t,e){if(1&t){const t=l.Sb();l.Rb(0,"tr",18),l.Yb("click",(function(){l.oc(t);const r=e.$implicit;return l.cc().onClick(r)})),l.Qb()}}let kt=(()=>{class t{constructor(t,e){this.usersAdapter=t,this.notificationService=e,this.displayedColumns=["firstName","createdAt","actions"],this.userClicked=new l.o,this.dataSource=new M.a(t)}ngOnChanges(t){t.filter&&this.filter&&(this.dataSource.filter$=this.filter.valueChanges)}ngAfterViewInit(){this.dataSource.sort=this.sort}onDelete(t){this.notificationService.addPopup({title:"Are you sure?",text:"This cannot be reverted",okText:"yes",noText:"no",callback:e=>{e&&this.usersAdapter.delete(t.id).subscribe((()=>this.notificationService.addSnack("User deleted")),(()=>this.notificationService.addSnack("User deletion failed")))}})}onClick(t){this.userClicked.next(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(H),l.Lb(L.c))},t.\u0275cmp=l.Fb({type:t,selectors:[["cnfs-user-list"]],viewQuery:function(t,e){var r;1&t&&l.Ac(S.a,!0),2&t&&l.lc(r=l.Zb())&&(e.sort=r.first)},inputs:{displayedColumns:"displayedColumns",filter:"filter"},outputs:{userClicked:"userClicked"},features:[l.yb],decls:14,vars:5,consts:[["mat-table","","matSort","",3,"dataSource"],["matColumnDef","firstName","sticky",""],["mat-header-cell","","mat-sort-header","firstName",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","createdAt"],["mat-header-cell","","mat-sort-header","createdAt",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[3,"dataSource"],["mat-header-cell","","mat-sort-header","firstName"],["mat-cell",""],["mat-header-cell","","mat-sort-header","createdAt"],["mat-header-cell",""],["mat-icon-button","","aria-label","Edit User",3,"routerLink"],["mat-icon-button","","color","warn","aria-label","Delete User",3,"click"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(l.Rb(0,"table",0),l.Pb(1,1),l.wc(2,gt,2,0,"th",2),l.wc(3,vt,2,1,"td",3),l.Ob(),l.Pb(4,4),l.wc(5,yt,2,0,"th",5),l.wc(6,Ct,3,3,"td",3),l.Ob(),l.Pb(7,6),l.wc(8,_t,1,0,"th",7),l.wc(9,Ot,7,3,"td",3),l.Ob(),l.wc(10,Rt,1,0,"tr",8),l.wc(11,St,1,0,"tr",9),l.Qb(),l.Mb(12,"cnfs-loader",10),l.Mb(13,"cnfs-paginator",10)),2&t&&(l.hc("dataSource",e.dataSource),l.Ab(10),l.hc("matHeaderRowDef",e.displayedColumns),l.Ab(1),l.hc("matRowDefColumns",e.displayedColumns),l.Ab(1),l.hc("dataSource",e.dataSource),l.Ab(1),l.hc("dataSource",e.dataSource))},directives:[k.j,S.a,k.c,k.e,k.b,k.g,k.i,G.a,U.a,k.d,S.b,k.a,n.a,A.d,o.a,n.b,k.f,k.h],pipes:[a.e],styles:["th.mat-sort-header-sorted[_ngcontent-%COMP%]{color:#000}table[_ngcontent-%COMP%]{width:100%}tr[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f5f5f5}"]}),t})();const xt=function(){return["..","create-user"]},At=[{path:"",pathMatch:"prefix",component:st,children:[{path:"users",component:(()=>{class t{constructor(t,e,r){this.fb=t,this.router=e,this.activatedRoute=r,this.filter=this.fb.group({firstName:[]})}userClicked(t){this.router.navigate(["..","user",t.id],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(i.b),l.Lb(A.b),l.Lb(A.a))},t.\u0275cmp=l.Fb({type:t,selectors:[["cnfs-users"]],decls:10,vars:4,consts:[[1,"scroll-body"],[3,"formGroup"],["appearance","outline",1,"search-filter","control-input"],["matPrefix",""],["matInput","","type","text","formControlName","firstName","placeholder","Search User","aria-label","Search User","autocomplete","given-name"],[3,"filter","userClicked"],["mat-fab","","color","accent","aria-label","Create new user",1,"add-fab",3,"routerLink"]],template:function(t,e){1&t&&(l.Rb(0,"div",0),l.Rb(1,"form",1),l.Rb(2,"mat-form-field",2),l.Rb(3,"mat-icon",3),l.xc(4,"search"),l.Qb(),l.Mb(5,"input",4),l.Qb(),l.Qb(),l.Rb(6,"cnfs-user-list",5),l.Yb("userClicked",(function(t){return e.userClicked(t)})),l.Qb(),l.Qb(),l.Rb(7,"a",6),l.Rb(8,"mat-icon"),l.xc(9,"person_add"),l.Qb(),l.Qb()),2&t&&(l.Ab(1),l.hc("formGroup",e.filter),l.Ab(5),l.hc("filter",e.filter),l.Ab(1),l.hc("routerLink",l.ic(3,xt)))},directives:[i.l,i.h,i.d,s.b,o.a,s.e,w,i.a,i.g,i.c,kt,n.a,A.d],styles:[".search-filter[_ngcontent-%COMP%]{width:100%}.add-fab[_ngcontent-%COMP%]{position:fixed;bottom:2rem;right:2rem}.scroll-body[_ngcontent-%COMP%]{height:100%}"]}),t})(),pathMatch:"prefix"},{path:"edit-user/:userId",component:Y,pathMatch:"prefix"},{path:"create-user",component:Y,pathMatch:"prefix"},{path:"user/:userId",component:pt,pathMatch:"prefix"},{path:"groups",component:it},{path:"roles",component:mt},{path:"edit-group/:groupId",component:q,pathMatch:"prefix"},{path:"create-group",component:q,pathMatch:"prefix"},{path:"",pathMatch:"full",redirectTo:"users"}]}];let Mt=(()=>{class t{}return t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({factory:function(e){return new(e||t)},providers:[{provide:V,useClass:I},H,B,ot],imports:[[a.c,k.k,R.b,S.c,s.d,O,o.b,x.c,n.c,i.j,L.a,M.b,A.e.forChild(At)]]}),t})()}}]);